# ---------------------------------------------------------
# *_: Model Objects
# ---------------------------------------------------------

type Comment {
  id:               ID!
  comment:          String
  image:            String
  imagePublicId:    String
  stickerId:        ID
  postId:           ID!
  authorId:         ID!

  createdAt:        String!
  updatedAt:        String!
}

# ---------------------------------------------------------
# *_: Input Objects
# ---------------------------------------------------------

input CreateCommentInput {
  comment:          String
  image:            Upload
  stickerId:        ID
  postId:           ID!
}

input UpdateCommentInput {
  id:               ID!
  comment:          String
  image:            Upload
  stickerId:        ID
  deleteImage:      Boolean
  deleteSticker:    Boolean
}

input DeleteCommentInput {
  id:               ID!
}

# ---------------------------------------------------------
# *_: Return Payloads
# ---------------------------------------------------------

type CommentPayload {
  id:               ID
  comment:          String
  image:            String
  imagePublicId:    String
  stickerId:        ID
  postId:           ID
  authorId:         ID

  sticker:          StickerPayload
  post:             PostPayload
  author:           UserPayload

  createdAt:        String
  updatedAt:        String
}

type CommentsPayload {
  count:            Int
  comments:        [CommentPayload]
}

# ---------------------------------------------------------
# *_: Queries
# ---------------------------------------------------------

type Query {
  # DONE: Get post's comments
  getComments(postId: ID!, skip: Int, limit: Int):    CommentsPayload
}

# ---------------------------------------------------------
# *_: Mutations
# ---------------------------------------------------------

type Mutation {
  # DONE: Create a post comment
  createComment(input: CreateCommentInput!):          CommentPayload

  # DONE: Update a post comment
  updateComment(input: UpdateCommentInput!):          Boolean

  # DONE: Delete a post comment
  deleteComment(input: DeleteCommentInput!):          Boolean
}

# ---------------------------------------------------------
# *_: Subscriptions
# ---------------------------------------------------------
